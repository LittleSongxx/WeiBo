# Topicèˆ†æƒ…åˆ†æç³»ç»Ÿ - å¯åŠ¨æŒ‡å—

## å¿«é€Ÿå¯åŠ¨ï¼ˆå¤åˆ¶ç²˜è´´åˆ°4ä¸ªç»ˆç«¯ï¼‰

### å‰ç½®å‡†å¤‡
```bash
# 1. å¯åŠ¨DockeræœåŠ¡
cd ~/code/graduation/Topic_and_user_profile_analysis_system
docker-compose up -d

# 2. æ£€æŸ¥æœåŠ¡çŠ¶æ€
docker-compose ps
# åº”è¯¥çœ‹åˆ°: redis, mongodb, elasticsearch ä¸‰ä¸ªæœåŠ¡ Up çŠ¶æ€
```

### ç»ˆç«¯1: åç«¯API
```bash
cd ~/code/graduation/Topic_and_user_profile_analysis_system/code/back_end
source ~/miniconda3/etc/profile.d/conda.sh && conda activate graduation
python main.py
```

### ç»ˆç«¯2: Celery Worker
```bash
cd ~/code/graduation/Topic_and_user_profile_analysis_system/code/back_end
source ~/miniconda3/etc/profile.d/conda.sh && conda activate graduation
celery -A celery_task.worker worker --loglevel=info -P threads
```

### ç»ˆç«¯3: å¾®åšçˆ¬è™«API
```bash
cd ~/code/graduation/Topic_and_user_profile_analysis_system/code/weibo_crawler
source ~/miniconda3/etc/profile.d/conda.sh && conda activate graduation
python weibo_curl_api.py
```

### ç»ˆç«¯4: å‰ç«¯æœåŠ¡
```bash
cd ~/code/graduation/Topic_and_user_profile_analysis_system/code/front_end
npm run serve
```

## è®¿é—®åœ°å€

- ğŸŒ **å‰ç«¯é¡µé¢**: http://localhost:8080
- ğŸ“¡ **åç«¯API**: http://127.0.0.1:8181/docs
- ğŸ•·ï¸ **çˆ¬è™«API**: http://127.0.0.1:8001

## æµ‹è¯•å‘½ä»¤

```bash
# åˆ›å»ºè¯é¢˜åˆ†æä»»åŠ¡
curl "http://127.0.0.1:8181/api/tag/add_task?tag=æ˜¥èŠ‚&is_hot=true&page_num=1"

# æŸ¥çœ‹ä»»åŠ¡åˆ—è¡¨
curl "http://127.0.0.1:8181/api/tag/tag_list"
```

## åœæ­¢æœåŠ¡

```bash
# åœæ­¢DockeræœåŠ¡
cd ~/code/graduation/Topic_and_user_profile_analysis_system
docker-compose down

# å„ç»ˆç«¯æŒ‰ Ctrl+C åœæ­¢å¯¹åº”æœåŠ¡
```

## æ³¨æ„äº‹é¡¹

1. **æ‰€æœ‰Pythonå‘½ä»¤å¿…é¡»åœ¨graduationç¯å¢ƒä¸­è¿è¡Œ**
2. **é¦–æ¬¡è¿è¡Œéœ€è¦é…ç½®Cookie**: ç¼–è¾‘ `code/weibo_crawler/account/account.json`
3. **å‚æ•°åç§°**: APIä¸­ä½¿ç”¨ `tag`ï¼ˆä¸æ˜¯ `tag_text`ï¼‰
